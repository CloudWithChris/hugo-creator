
{{ $site := .Site }}
{{ $content := . }}

<div class="col-md-6">
  <div class="row mb-3">
    <div class="d-flex align-items-center mb-3">
      <div class="pe-3">
        {{ with .Params.Banner }}     
          {{ $banner := $content.Resources.GetMatch $content.Params.banner }}
          {{ if $banner }}
          {{ $tiny := ($banner.Resize "480x") }}
          {{ $small := ($banner.Resize "768x") }}
          {{ $medium := ($banner.Resize "1024x") }}
          {{ $large := ($banner.Resize "1366x") }}
            <a href="{{ $content.Permalink | relURL}}">
              <img class="img-fluid"
                    srcset="
                        {{- with $tiny.RelPermalink -}}{{.}} 480w{{- end -}}
                        {{- with $small.RelPermalink -}}, {{.}} 768w{{- end -}}
                        {{- with $medium.RelPermalink -}}, {{.}} 1024w{{- end -}}
                        {{- with $large.RelPermalink -}}, {{.}} 1366w{{- end -}}" 
                    src="{{ $banner.RelPermalink }}" 
                    alt="{{ $content.Title }}" 
                    title="{{ $content.Title }}" />
            </a>
          {{ else }}
            <a href="{{ $content.Permalink | relURL}}"><img class="img-fluid" src="{{ $content.Params.Banner | relURL }}" alt="{{ $content.Title }}" title="{{ $content.Title }}" /></a>
          {{ end }}
        {{ else }}
          {{ $image := $content.Resources.GetMatch $content.Params.image }}    
          <div class="text-center"> 
            {{ if $image }}
              <a href="{{ $content.Permalink | relURL}}"><img src="{{ $image.RelPermalink }}" width="100" class="rounded-circle z-depth-2 person-image" alt="{{ $content.Title }}" title="{{ $content.Title }}" /></a>
            {{ else }}
              <a href="{{ $content.Permalink | relURL}}"><img src="{{ $content.Params.Image | relURL }}" width="100" class="rounded-circle z-depth-2 person-image" alt="{{ $content.Title }}" title="{{ $content.Title }}" /></a>
            {{ end }}
          </div>
        {{ end }}
      </div>
      <div class="me-auto">
      </div>
    </div>
    <div class="row mb-3 text-start">
      <a href="{{ .Permalink }}"><h3>{{ .Title }}</h3></a>
    </div>

    <div class="row mb-3">
      <div class="d-flex flex-row">
        {{ if eq .Type "blog" }}
          {{ partial "content/people.html" (dict "people" .Params.Authors "site" $site "size" 50 )}}
        {{ end }}

        {{ if eq .Type "episode" }}
          {{ partial "content/people.html" (dict "people" .Params.Hosts "site" $site "size" 50 )}}
          {{ partial "content/people.html" (dict "people" .Params.Guests "site" $site "size" 50 )}}
        {{ end }}

        {{ if eq .Type "talk" }}
          {{ partial "content/people.html" (dict "people" .Params.Hosts "site" $site "size" 50 )}}
        {{ end }}
      </div>
    </div>

    <div class="row mb-3 text-start">
      <p>{{ .Params.Description }}</p>
    </div>
    <div class="row mb-3">
      <div class="d-flex">
        {{ partial "content/published.html" . }}
      </div>
    </div>
    {{ with .Params.Series }}
      <div class="row mb-3">
        <div class="d-flex">
            {{ partial "content/series.html" (dict "taxo" "series" "value" . "site" $.Site ) }}
        </div>
      </div>    
    {{ end }}
    {{ with .Params.tags }}
      <div class="row mb-3">
        <div class="align-self-center text-start">
          <div class="d-flex tags">
            {{ partial "content/tags.html" (dict "taxo" "tags" "value" . "site" $.Site ) }}
          </div>
        </div>
      </div>
    {{ end }}
  </div>
</div>